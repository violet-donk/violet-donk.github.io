<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>å¿ƒå½¢æ–‡å­—ä¸é²œèŠ±çˆ†ç‚¸æ•ˆæœ</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
  
  <!-- é…ç½®Tailwindè‡ªå®šä¹‰é¢œè‰²å’Œå­—ä½“ -->
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            love: {
              light: '#FFB6C1',
              DEFAULT: '#FF69B4',
              dark: '#DB7093'
            },
            flower: {
              pink: '#FFCAD4',
              yellow: '#FFFACD',
              purple: '#E6E6FA'
            }
          },
          fontFamily: {
            romantic: ['"Dancing Script"', 'cursive', 'sans-serif']
          }
        }
      }
    }
  </script>
  
  <style type="text/tailwindcss">
    @layer utilities {
      .text-shadow {
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
      }
      .float-animation {
        animation: float 3s ease-in-out infinite;
      }
      .petal {
        position: absolute;
        background-size: contain;
        background-repeat: no-repeat;
        opacity: 0;
      }
    }
    
    @keyframes float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }
  </style>
  
  <!-- å¼•å…¥æµªæ¼«é£æ ¼å­—ä½“ -->
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&display=swap" rel="stylesheet">
</head>

<body class="bg-gradient-to-br from-pink-50 to-purple-50 min-h-screen overflow-hidden flex flex-col items-center justify-center">
  <!-- é¡µé¢æ ‡é¢˜ -->
  <h1 class="text-[clamp(2rem,5vw,3.5rem)] font-romantic text-love-dark font-bold mb-8 text-shadow opacity-0 transition-opacity duration-1000" id="pageTitle">
    
  </h1>
  
  <!-- ä¸»å®¹å™¨ -->
  <div class="relative w-full h-[70vh] max-w-3xl mx-auto">
    <!-- å¿ƒå½¢å°†åœ¨è¿™é‡Œç”±æ–‡å­—ç»„æˆ -->
    <div id="heartContainer" class="absolute inset-0"></div>
    
    <!-- é²œèŠ±å°†åœ¨è¿™é‡Œçˆ†ç‚¸å±•ç¤º -->
    <div id="flowerContainer" class="absolute inset-0 pointer-events-none"></div>
  </div>
  
  <!-- æ§åˆ¶æŒ‰é’® -->
  <button id="explodeBtn" class="mt-8 px-8 py-3 bg-love text-white rounded-full text-lg font-romantic transform transition-all duration-300 hover:bg-love-dark hover:scale-105 opacity-0 invisible" onclick="explodeHeart()">
    <i class="fa fa-bomb mr-2"></i>ç»½æ”¾çˆ±æ„
  </button>
  
  <!-- é‡ç½®æŒ‰é’® -->
  <button id="resetBtn" class="mt-4 px-6 py-2 bg-gray-200 text-gray-700 rounded-full text-sm font-romantic transform transition-all duration-300 hover:bg-gray-300 hover:scale-105 opacity-0 invisible" onclick="resetAnimation()">
    <i class="fa fa-refresh mr-1"></i>å†æ¥ä¸€æ¬¡
  </button>

  <script>
    // æ–‡å­—å†…å®¹ - å¯ä»¥æ ¹æ®éœ€è¦ä¿®æ”¹
    const loveTexts = ['çˆ±', 'â¤', 'LOVE', 'æ‹', 'ğŸ’–', 'å–œæ¬¢', 'ğŸ’•', 'æ€å¿µ', 'ğŸ’˜', 'ç‰µæŒ‚'];
    
    // é²œèŠ±å›¾ç‰‡é›†åˆ
    const flowerImages = [
      'https://picsum.photos/id/152/100/100',
      'https://picsum.photos/id/106/100/100',
      'https://picsum.photos/id/118/100/100',
      'https://picsum.photos/id/116/100/100',
      'https://picsum.photos/id/132/100/100',
      'https://picsum.photos/id/145/100/100',
      'https://picsum.photos/id/152/100/100',
      'https://picsum.photos/id/181/100/100'
    ];
    
    // å¿ƒå½¢å‚æ•°
    const heartParams = {
      size: 200,       // å¿ƒå½¢å¤§å°
      points: 80,      // ç‚¹çš„æ•°é‡
      centerX: 0,      // ä¸­å¿ƒXåæ ‡
      centerY: 0,      // ä¸­å¿ƒYåæ ‡
      textElements: [] // æ–‡å­—å…ƒç´ æ•°ç»„
    };
    
    // DOMå…ƒç´ 
    const heartContainer = document.getElementById('heartContainer');
    const flowerContainer = document.getElementById('flowerContainer');
    const explodeBtn = document.getElementById('explodeBtn');
    const resetBtn = document.getElementById('resetBtn');
    const pageTitle = document.getElementById('pageTitle');
    
    // åˆå§‹åŒ–
    window.addEventListener('DOMContentLoaded', () => {
      // è®¾ç½®å¿ƒå½¢ä¸­å¿ƒä½ç½®
      heartParams.centerX = heartContainer.offsetWidth / 2;
      heartParams.centerY = heartContainer.offsetHeight / 2;
      
      // æ˜¾ç¤ºæ ‡é¢˜
      setTimeout(() => {
        pageTitle.classList.remove('opacity-0');
      }, 500);
      
      // åˆ›å»ºå¿ƒå½¢æ–‡å­—
      createHeartText();
    });
    
    // åˆ›å»ºå¿ƒå½¢æ–‡å­—
    function createHeartText() {
      // æ¸…ç©ºå®¹å™¨
      heartContainer.innerHTML = '';
      heartParams.textElements = [];
      
      // ç”Ÿæˆå¿ƒå½¢ä¸Šçš„ç‚¹
      for (let i = 0; i < heartParams.points; i++) {
        // è§’åº¦ä»0åˆ°2Ï€
        const t = (i / heartParams.points) * Math.PI * 2;
        
        // å¿ƒå½¢æ›²çº¿å‚æ•°æ–¹ç¨‹
        const x = 16 * Math.pow(Math.sin(t), 3);
        const y = 13 * Math.cos(t) - 5 * Math.cos(2*t) - 2 * Math.cos(3*t) - Math.cos(4*t);
        
        // è®¡ç®—å®é™…ä½ç½®å¹¶ç¼©æ”¾
        const posX = heartParams.centerX + x * (heartParams.size / 16);
        const posY = heartParams.centerY - y * (heartParams.size / 16); // è´Ÿå·æ˜¯å› ä¸ºYè½´å‘ä¸‹
        
        // åˆ›å»ºæ–‡å­—å…ƒç´ 
        const textEl = document.createElement('div');
        const text = loveTexts[Math.floor(Math.random() * loveTexts.length)];
        
        // éšæœºæ ·å¼
        const fontSize = Math.random() * 12 + 14; // 14-26px
        const colorIndex = Math.floor(Math.random() * 3);
        const colors = ['text-love', 'text-love-dark', 'text-purple-500'];
        
        textEl.className = `absolute transition-all duration-1000 ease-out font-romantic ${colors[colorIndex]} text-shadow`;
        textEl.style.fontSize = `${fontSize}px`;
        textEl.style.left = `${posX}px`;
        textEl.style.top = `${posY}px`;
        textEl.style.transform = 'translate(-50%, -50%)';
        textEl.style.opacity = '0';
        textEl.textContent = text;
        
        heartContainer.appendChild(textEl);
        heartParams.textElements.push({
          element: textEl,
          targetX: posX,
          targetY: posY
        });
      }
      
      // è®©æ–‡å­—"é£˜"åˆ°æŒ‡å®šä½ç½®å½¢æˆå¿ƒå½¢
      animateTextIntoHeart();
    }
    
    // åŠ¨ç”»ï¼šæ–‡å­—é£˜å…¥å½¢æˆå¿ƒå½¢
    function animateTextIntoHeart() {
      const containerRect = heartContainer.getBoundingClientRect();
      
      heartParams.textElements.forEach((item, index) => {
        // éšæœºèµ·ç‚¹ï¼ˆä»å®¹å™¨è¾¹ç¼˜é£˜å…¥ï¼‰
        const startPos = Math.random() * 4; // 0-3 ä»£è¡¨å››ä¸ªæ–¹å‘
        let startX, startY;
        
        switch (Math.floor(startPos)) {
          case 0: // é¡¶éƒ¨
            startX = Math.random() * containerRect.width;
            startY = -50;
            break;
          case 1: // å³ä¾§
            startX = containerRect.width + 50;
            startY = Math.random() * containerRect.height;
            break;
          case 2: // åº•éƒ¨
            startX = Math.random() * containerRect.width;
            startY = containerRect.height + 50;
            break;
          case 3: // å·¦ä¾§
            startX = -50;
            startY = Math.random() * containerRect.height;
            break;
        }
        
        // è®¾ç½®åˆå§‹ä½ç½®
        item.element.style.left = `${startX}px`;
        item.element.style.top = `${startY}px`;
        item.element.style.opacity = '0';
        
        // å»¶è¿ŸåŠ¨ç”»ï¼Œåˆ›é€ ä¾æ¬¡é£˜å…¥çš„æ•ˆæœ
        setTimeout(() => {
          // åŠ¨ç”»åˆ°ç›®æ ‡ä½ç½®
          item.element.style.left = `${item.targetX}px`;
          item.element.style.top = `${item.targetY}px`;
          item.element.style.opacity = '1';
          
          // æœ€åä¸€ä¸ªå…ƒç´ åˆ°ä½åæ˜¾ç¤ºçˆ†ç‚¸æŒ‰é’®
          if (index === heartParams.textElements.length - 1) {
            setTimeout(() => {
              explodeBtn.classList.remove('opacity-0', 'invisible');
              explodeBtn.classList.add('opacity-100', 'visible');
            }, 1000);
          }
        }, index * 50 + 500); // é”™å¼€æ—¶é—´
      });
    }
    
    // çˆ†ç‚¸æ•ˆæœï¼šå¿ƒå½¢å˜æˆæ»¡å±é²œèŠ±
    function explodeHeart() {
      // éšè—çˆ†ç‚¸æŒ‰é’®
      explodeBtn.classList.add('opacity-0');
      setTimeout(() => {
        explodeBtn.classList.add('invisible');
      }, 300);
      
      // æ–‡å­—å…ƒç´ çˆ†ç‚¸æ¶ˆå¤±
      heartParams.textElements.forEach((item, index) => {
        setTimeout(() => {
          // éšæœºæ–¹å‘çš„çˆ†ç‚¸æ•ˆæœ
          const angle = Math.random() * Math.PI * 2;
          const distance = Math.random() * 300 + 100;
          const explodeX = Math.cos(angle) * distance;
          const explodeY = Math.sin(angle) * distance;
          
          item.element.style.transform = `translate(-50%, -50%) translate(${explodeX}px, ${explodeY}px)`;
          item.element.style.opacity = '0';
          item.element.style.transition = 'all 0.8s cubic-bezier(0.17, 0.67, 0.83, 0.67)';
          
          // åˆ›å»ºå¯¹åº”çš„é²œèŠ±
          createFlower(item.targetX, item.targetY, angle, distance);
        }, index * 30); // é”™å¼€çˆ†ç‚¸æ—¶é—´
      });
      
      // æ˜¾ç¤ºé‡ç½®æŒ‰é’®
      setTimeout(() => {
        resetBtn.classList.remove('opacity-0', 'invisible');
        resetBtn.classList.add('opacity-100', 'visible');
      }, 1500);
    }
    
    // åˆ›å»ºé²œèŠ±å…ƒç´ 
    function createFlower(x, y, angle, distance) {
      const flower = document.createElement('div');
      flower.className = 'petal';
      
      // éšæœºé€‰æ‹©é²œèŠ±å›¾ç‰‡
      const imgSrc = flowerImages[Math.floor(Math.random() * flowerImages.length)];
      flower.style.backgroundImage = `url(${imgSrc})`;
      
      // éšæœºå¤§å°
      const size = Math.random() * 40 + 30; // 30-70px
      flower.style.width = `${size}px`;
      flower.style.height = `${size}px`;
      
      // ä½ç½®è®¾ç½®ï¼ˆä¸æ–‡å­—ç›¸åŒçš„èµ·ç‚¹ï¼‰
      flower.style.left = `${x}px`;
      flower.style.top = `${y}px`;
      flower.style.transform = 'translate(-50%, -50%)';
      
      flowerContainer.appendChild(flower);
      
      // é²œèŠ±çˆ†ç‚¸åŠ¨ç”»
      setTimeout(() => {
        flower.style.opacity = '1';
        flower.style.transform = `translate(-50%, -50%) translate(${Math.cos(angle) * distance * 0.8}px, ${Math.sin(angle) * distance * 0.8}px) rotate(${Math.random() * 360}deg)`;
        flower.style.transition = `all 1.2s cubic-bezier(0.18, 0.89, 0.32, 1.28)`;
        
        // è½»å¾®æµ®åŠ¨æ•ˆæœ
        setTimeout(() => {
          flower.classList.add('float-animation');
        }, 1200);
      }, 50);
    }
    
    // é‡ç½®åŠ¨ç”»
    function resetAnimation() {
      // éšè—é‡ç½®æŒ‰é’®
      resetBtn.classList.add('opacity-0');
      setTimeout(() => {
        resetBtn.classList.add('invisible');
      }, 300);
      
      // æ¸…é™¤é²œèŠ±
      flowerContainer.innerHTML = '';
      
      // é‡æ–°åˆ›å»ºå¿ƒå½¢æ–‡å­—
      setTimeout(() => {
        createHeartText();
      }, 500);
    }
  </script>
</body>
</html>
